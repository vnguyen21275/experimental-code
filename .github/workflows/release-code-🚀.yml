name: Release the Latest Tag

# Invoke the workflow only when a tag is pushed
on:
  push:
    branches: [main] # Sequence of patterns matched against refs/heads
    tags: ['*'] # Pattern matched against refs/tags

jobs:
  release_tag:
    name: Tagged Release 
    runs-on: ubuntu-latest

    steps:
      - uses: actions/checkout@v2

      - uses: marvinpinto/action-automatic-releases@v1.2.1
        with:
          repo_token: ${{ secrets.GITHUB_TOKEN }}
          automatic_release_tag: latest
          prerelease: false
          title: Wacky Whoohoo Pizza Time
          files: |
            LICENSE.txt
            *.jar
